# WCAG Checker Report

This Report was generated by the WCAG Checker on {{json_data.timestamp}}.    
In total, {{json_data.total_inputs}} Pages were analysed with a base URL of {{json_data.base_url}}.

The following report contains the results for each Page analyzed.

> _HINT:_ The Tool silently opens a Browser window, process the inputs you provided to build this report.        

An overview Screenshot is provided for each Page.
The elements are outlined in the screenshot with an index number tag for better identification.

Each element is identified by an CSS Path expression, which can be used to locate the element in the DOM.    

The tool also provides a screenshot of the element for better visualization. As well as the text content of the element, if available.    

## Results
There are {{json_data.total_inputs}} pages in total.

{% macro status_icon(input_data, violations) -%}
    {%- if "error" in input_data -%}
        ❌
    {%- elif violations > 0 -%}
        ⚠️
    {%- else -%}
        ✅
    {%- endif %}
{%- endmacro %}

{% macro page_navigation(loop) -%}
    {% if loop.index > 1 -%}
    [⬅️ Prev ({{loop.index - 1}})](#page-{{loop.index - 1}})
    {%- endif -%}
    {%- if loop.index < loop.length -%}
    {%- if loop.index > 1 %} | {% endif -%}
    [➡️ Next ({{loop.index + 1}})](#page-{{loop.index + 1}})
    {%- endif %}
{%- endmacro %}

{% if json_data.total_inputs > 0 %}**Page Overview:**{% endif %}  
{% for input_data in json_data.inputs -%}
{% set violations = input_data.results | count_violations %}
- {{ status_icon(input_data, violations) }} [{{ loop.index }}: {{ input_data.title if input_data.title else "Page " ~ loop.index }}](#page-{{input_data.index}}) ({{ violations }} violations)
{% endfor %}

---

{% for input_data in json_data.inputs -%}
{% set violations = input_data.results | count_violations %}

<a name="page-{{loop.index}}"></a>
{{ page_navigation(loop) }}

### {{ status_icon(input_data, violations) }} Page ({{loop.index}} / {{loop.length}} → {{ violations }} violations): {{ input_data.title }}

{% if input_data.url %}
[Link to url]({{input_data.url}})
{{input_data.url}}
{% endif %}

{% if "error" in input_data %}
**Error:**
```json
{{ input_data }}
```
{% else %}

{% include 'markdown_config_output_template.md' %}

{% if input_data.last_action %}
**Last Action:** 
```json
{{ input_data.last_action }}
```
{% endif %}
{% if input_data.action %}
**Action:**
```json
{{ input_data.action }}
```
{% endif %}
{% if input_data.title %}
**Title:** {{ input_data.title }}
{% endif %}

{% if input_data.config.runner|string == "axe" %}
{% include 'markdown_results_include_axe.md' %}
{% elif input_data.config.runner|string == "contrast" %}
{% include 'markdown_results_include_contrast.md' %}
{% elif input_data.config.runner|string == "tab" %}
{% include 'markdown_results_include_tab.md' %}
{% endif %}

{% endif %}
{% endfor -%}

{% if json_data.browser_console_log %}
<section>
<details>
<summary>Browser Logs</summary>

| Time | Level | Message       |
|------|-------|---------------|
{% for log in json_data.browser_console_log -%}
| {{ log.timestamp | datetimeformat("%Y-%m-%d %H:%M:%S") }} | {{ log.level }} | {{ log.text | replace('|', '\\|') | e }} |
{% endfor %}

</details>
</section>
{% endif %}
